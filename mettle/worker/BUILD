go_library(
    name = "worker",
    srcs = glob(["*.go"]),
    visibility = ["//mettle/..."],
    deps = [
        "///third_party/go/cloud.google.com_go_pubsub//apiv1",
        "///third_party/go/github.com_bazelbuild_remote-apis-sdks//go/pkg/client",
        "///third_party/go/github.com_bazelbuild_remote-apis-sdks//go/pkg/command",
        "///third_party/go/github.com_bazelbuild_remote-apis-sdks//go/pkg/digest",
        "///third_party/go/github.com_bazelbuild_remote-apis-sdks//go/pkg/filemetadata",
        "///third_party/go/github.com_bazelbuild_remote-apis-sdks//go/pkg/uploadinfo",
        "///third_party/go/github.com_bazelbuild_remote-apis//build/bazel/remote/execution/v2",
        "///third_party/go/github.com_dgraph-io_ristretto//:ristretto",
        "///third_party/go/github.com_dustin_go-humanize//:go-humanize",
        "///third_party/go/github.com_go-redis_redis_v8//:v8",
        "///third_party/go/github.com_golang_protobuf//proto",
        "///third_party/go/github.com_golang_protobuf//ptypes",
        "///third_party/go/github.com_golang_protobuf//ptypes/timestamp",
        "///third_party/go/github.com_klauspost_compress//zstd",
        "///third_party/go/github.com_peterebden_go-cli-init_v4//logging",
        "///third_party/go/github.com_peterebden_go-copyfile//:go-copyfile",
        "///third_party/go/github.com_prometheus_client_golang//prometheus",
        "///third_party/go/github.com_prometheus_client_golang//prometheus/push",
        "///third_party/go/github.com_prometheus_common//expfmt",
        "///third_party/go/github.com_shirou_gopsutil//mem",
        "///third_party/go/github.com_sirupsen_logrus//:logrus",
        "///third_party/go/gocloud.dev//pubsub",
        "///third_party/go/golang.org_x_sync//errgroup",
        "///third_party/go/google.golang.org_genproto//googleapis/pubsub/v1",
        "///third_party/go/google.golang.org_genproto_googleapis_rpc//status",
        "///third_party/go/google.golang.org_grpc//codes",
        "///third_party/go/google.golang.org_grpc//status",
        "///third_party/go/google.golang.org_protobuf//proto",
        "///third_party/go/google.golang.org_protobuf//types/known/durationpb",
        "//cli",
        "//elan/rpc",
        "//grpcutil",
        "//mettle/common",
        "//proto/lucidity",
        "//redis",
        "//rexclient",
        "//third_party/proto/cas",
        "//third_party/proto/resourceusage",
    ],
)
